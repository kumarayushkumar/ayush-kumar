---
import { getCollection, type CollectionEntry } from 'astro:content'
import Layout from '../../layout/Layout.astro'
import Blog from '../../components/blog/Blog.astro'

export const getStaticPaths = async () => {
  const blogs = await getCollection('blogs')
  return blogs.map(blog => ({
    params: { slug: blog.slug },
    props: { blog }
  }))
}

interface Props {
  blog: CollectionEntry<'blogs'>
}

const { blog }: Props = Astro.props
---

<Layout title={blog.data.title} description={blog.data.description}>
  <Blog blog={blog} />
</Layout>
